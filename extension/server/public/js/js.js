const t=document.getElementsByClassName("input_video")[0];let e=!1;t.style.display="none";const n=document.getElementsByClassName("output_canvas")[0],a=n.getContext("2d");let s=document.getElementById("token").textContent,i=new Array(21).fill(0),o=+document.getElementById("resetSentence").textContent,d=+document.getElementById("newReqEvery").textContent;setInterval((()=>{e=!e}),d);let l=[];setInterval((()=>{l=[]}),o);const m=new Hands({locateFile:t=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${t}`});m.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.8,minTrackingConfidence:.5}),m.onResults((function(t){if(a.save(),a.clearRect(0,0,n.width,n.height),a.drawImage(t.image,0,0,n.width,n.height),t.multiHandLandmarks)for(const e of t.multiHandLandmarks)drawConnectors(a,e,HAND_CONNECTIONS,{color:"#FF5959",lineWidth:5}),drawLandmarks(a,e,{color:"#FACF5A",lineWidth:3});if(a.restore(),0==t.multiHandLandmarks.length)return;if(!e)return;if(1==t.multiHandLandmarks.length){let n={x:[...t.multiHandLandmarks[0].map((t=>t.x)),...i],y:[...t.multiHandLandmarks[0].map((t=>t.y)),...i],z:[...t.multiHandLandmarks[0].map((t=>t.z)),...i]};return void(async()=>{try{e=!1;const t=await fetch("https://sih-handsign-detection-api.wl.r.appspot.com/api",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}),a=await t.json();if(l[l.length-1]==a.result.class)return;l.push(a.result.class),document.querySelector(".translate").textContent=l.join(" "),await fetch(`/hoster/update/${s}`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sentence:l})})}catch(t){console.log(t)}})()}let o={x:[...t.multiHandLandmarks[0].map((t=>t.x)),...t.multiHandLandmarks[1].map((t=>t.x))],y:[...t.multiHandLandmarks[0].map((t=>t.y)),...t.multiHandLandmarks[1].map((t=>t.y))],z:[...t.multiHandLandmarks[0].map((t=>t.z)),...t.multiHandLandmarks[1].map((t=>t.z))]};(async()=>{try{e=!1;const t=await fetch("https://sih-handsign-detection-api.wl.r.appspot.com/api",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}),n=await t.json();if(l[l.length-1]==n.result.class)return;l.push(n.result.class),document.querySelector(".translate").textContent=l.join(" "),await fetch(`/hoster/update/${s}`,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sentence:l})})}catch(t){console.log(t)}})()})),new Camera(t,{onFrame:async()=>{await m.send({image:t})},width:n.width,height:n.height}).start();
//# sourceMappingURL=js.js.map
