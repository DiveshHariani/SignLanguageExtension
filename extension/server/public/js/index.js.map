{"mappings":"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","sources":["server/public/js/js.js"],"sourcesContent":["const videoElement = document.getElementsByClassName('input_video')[0];\r\nlet send = false;\r\nvideoElement.style.display = 'none';\r\nconst canvasElement = document.getElementsByClassName('output_canvas')[0];\r\nconst canvasCtx = canvasElement.getContext('2d');\r\nlet token = document.getElementById('token').textContent;\r\nlet x =0;\r\nlet zeros = new Array(21).fill(0);\r\nlet resetSentence = +document.getElementById('resetSentence').textContent;\r\nlet newReqEvery = +document.getElementById('newReqEvery').textContent;\r\nsetInterval(() => {\r\n    send= !send;\r\n}, newReqEvery);\r\nlet sentence = [];\r\nsetInterval(() => {\r\n    sentence= [];\r\n}, resetSentence);\r\nfunction onResults(results) {\r\n    canvasCtx.save();\r\n    canvasCtx.clearRect(0, 0, canvasElement.width, canvasElement.height);\r\n    canvasCtx.drawImage(results.image, 0, 0, canvasElement.width, canvasElement.height);\r\n    if (results.multiHandLandmarks) {\r\n        for (const landmarks of results.multiHandLandmarks) {\r\n            drawConnectors(canvasCtx, landmarks, HAND_CONNECTIONS,\r\n            {color: '#FF5959', lineWidth: 5});\r\n            drawLandmarks(canvasCtx, landmarks, {color: '#FACF5A', lineWidth: 3});\r\n        }\r\n    }\r\n    canvasCtx.restore();\r\n    if(results.multiHandLandmarks.length == 0) return;\r\n    if(!send) return;\r\n    if(results.multiHandLandmarks.length == 1){\r\n        let x = [...results.multiHandLandmarks[0].map(e=> e.x), ...zeros];\r\n        let y = [...results.multiHandLandmarks[0].map(e=> e.y), ...zeros];\r\n        let z = [...results.multiHandLandmarks[0].map(e=> e.z), ...zeros];\r\n        let v = [...results.multiHandLandmarks[0].map(e=> 0), ...zeros];\r\n        let data = {x, y, z, v};\r\n        (async () => {\r\n            try{\r\n            send = false;\r\n            const rawResponse = await fetch('https://sih-handsign-detection-api.wl.r.appspot.com/api', {\r\n                method: 'POST',\r\n                headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            });\r\n            const content = await rawResponse.json();\r\n            if(sentence[sentence.length-1] == content.result.class) return;\r\n            sentence.push(content.result.class);\r\n            document.querySelector('.translate').textContent = sentence.join(' ');\r\n            await fetch(`/hoster/update/${token}`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"sentence\": sentence\r\n                })\r\n            });\r\n            }catch(er){\r\n            console.log(er)\r\n            }\r\n        })();\r\n        return;\r\n    }\r\n    let x = [...results.multiHandLandmarks[0].map(e=> e.x), ...results.multiHandLandmarks[1].map(e=> e.x)];\r\n    let y = [...results.multiHandLandmarks[0].map(e=> e.y), ...results.multiHandLandmarks[1].map(e=> e.y)];\r\n    let z = [...results.multiHandLandmarks[0].map(e=> e.z), ...results.multiHandLandmarks[1].map(e=> e.z)];\r\n    let v = [...results.multiHandLandmarks[0].map(e=> 0), ...results.multiHandLandmarks[1].map(e=> 0)];\r\n    let data = {x, y, z, v};\r\n    (async () => {\r\n        try{\r\n        send = false;\r\n        const rawResponse = await fetch('https://sih-handsign-detection-api.wl.r.appspot.com/api', {\r\n            method: 'POST',\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        });\r\n        const content = await rawResponse.json();\r\n        if(sentence[sentence.length-1] == content.result.class) return;\r\n        sentence.push(content.result.class);\r\n        document.querySelector('.translate').textContent = sentence.join(' ');\r\n        await fetch(`/hoster/update/${token}`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                \"sentence\": sentence\r\n            })\r\n        });\r\n        }catch(er){\r\n        console.log(er)\r\n        }\r\n    })();\r\n}\r\nconst hands = new Hands({locateFile: (file) => {\r\nreturn `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`;\r\n}});\r\nhands.setOptions({\r\nmaxNumHands: 2,\r\nmodelComplexity: 1,\r\nminDetectionConfidence: 0.8,\r\nminTrackingConfidence: 0.5\r\n});\r\nhands.onResults(onResults);\r\nconst camera = new Camera(videoElement, {\r\nonFrame: async () => {\r\nawait hands.send({image: videoElement});\r\n},\r\nwidth: canvasElement.width,\r\nheight: canvasElement.height\r\n});\r\ncamera.start();"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}