from sklearn.pipeline import make_pipeline 
from sklearn.preprocessing import StandardScaler 

from sklearn.linear_model import LogisticRegression, RidgeClassifier
from sklearn.ensemble import RandomForestClassifier, GradientBoostingClassifier
import mediapipe as mp # Import mediapipe
import cv2 # Import opencv
import pandas as pd
import pickle

request = {}
request['x1'] = [0.5677365064620972,0.5674930810928345,0.5701802372932434,0.5424880385398865,0.4312554001808166,0.4051911830902099,0.3875360786914825,0.6288992166519165,0.632409393787384,0.3710357844829559,0.3605702519416809,0.3617339134216308,0.3691082298755646,0.5677365064620972,0.5674930810928345,0.5701802372932434,0.5424880385398865,0.4312554001808166,0.4051911830902099,0.3875360786914825,0.6288992166519165,0.632409393787384,0.3710357844829559,0.3605702519416809,0.3617339134216308,0.3691082298755646,0.3664561808109283,0.3666895627975464,0.3677434623241424,0.3657937943935394,0.3621916174888611,0.3588271141052246,0.3615173101425171,0.3651569485664367,0.3664561808109283,0.3666895627975464,0.3677434623241424,0.3657937943935394,0.3621916174888611,0.3588271141052246,0.3615173101425171,0.3651569485664367]
request['y1'] = [0.8456211090087891,0.84837806224823,0.8660334944725037,0.8566816449165344,0.8429568409919739,0.8737201690673828,0.8820012211799622,0.8030687570571899,0.7942548394203186,0.8782593011856079,0.890728235244751,0.887215793132782,0.8891662359237671,0.8456211090087891,0.84837806224823,0.8660334944725037,0.8566816449165344,0.8429568409919739,0.8737201690673828,0.8820012211799622,0.8030687570571899,0.7942548394203186,0.8782593011856079,0.890728235244751,0.887215793132782,0.8891662359237671,0.889994740486145,0.8971157073974609,0.8966625928878784,0.894110918045044,0.8934246301651001,0.8878676891326904,0.8909453749656677,0.8936004042625427,0.889994740486145,0.8971157073974609,0.8966625928878784,0.894110918045044,0.8934246301651001,0.8878676891326904,0.8909453749656677,0.8936004042625427]
request['z1'] = [-3.60176018148195e-05,-0.0001109375225496,-0.0001611770858289,-9.303064143750817e-05,-8.89462826307863e-05,-0.000136040704092,-9.06435088836588e-05,-9.47228036238812e-05,-5.442448309622705e-05,-0.000142768913065,-0.000127622144646,-0.0001152863114839,-0.0001355925196548,-3.60176018148195e-05,-0.0001109375225496,-0.0001611770858289,-9.303064143750817e-05,-8.89462826307863e-05,-0.000136040704092,-9.06435088836588e-05,-9.47228036238812e-05,-5.442448309622705e-05,-0.000142768913065,-0.000127622144646,-0.0001152863114839,-0.0001355925196548,-0.0001244744780706,-0.0001351877581328,-0.0001326959900325,-0.0001228957262355,-0.000124412268633,-0.000125189544633,-0.0001367883523926,-0.0001408639363944,-0.0001244744780706,-0.0001351877581328,-0.0001326959900325,-0.0001228957262355,-0.000124412268633,-0.000125189544633,-0.0001367883523926,-0.0001408639363944]
request['v'] = [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]

# mediapipe opencv-python pandas scikit-learn

zero = [0 for i in range(501-len(request['x1']))]
request['x1'] = request['x1'] + zero
request['y1'] = request['y1'] + zero
request['z1'] = request['z1'] + zero
request['v'] = request['v'] + zero


row = []
for i in range(len(request['x1'])):
	row.append(request['x1'][i])
	row.append(request['y1'][i])
	row.append(request['z1'][i])
	row.append(request['v'][i])

with open('body_language3.pkl', 'rb') as f:
    model = pickle.load(f)
X = pd.DataFrame([row])
body_language_class = model.predict(X)[0]
body_language_prob = model.predict_proba(X)[0]
print(body_language_class, body_language_prob)
print(X.isna())
print ("###########################")
print(X)



# {
#     "x":[0.5677365064620972,0.5674930810928345,0.5701802372932434,0.5424880385398865,0.4312554001808166,0.4051911830902099,0.3875360786914825,0.6288992166519165,0.632409393787384,0.3710357844829559,0.3605702519416809,0.3617339134216308,0.3691082298755646,0.5677365064620972,0.5674930810928345,0.5701802372932434,0.5424880385398865,0.4312554001808166,0.4051911830902099,0.3875360786914825,0.6288992166519165,0.632409393787384,0.3710357844829559,0.3605702519416809,0.3617339134216308,0.3691082298755646,0.3664561808109283,0.3666895627975464,0.3677434623241424,0.3657937943935394,0.3621916174888611,0.3588271141052246,0.3615173101425171,0.3651569485664367,0.3664561808109283,0.3666895627975464,0.3677434623241424,0.3657937943935394,0.3621916174888611,0.3588271141052246,0.3615173101425171,0.3651569485664367],
#     "y":[0.8456211090087891,0.84837806224823,0.8660334944725037,0.8566816449165344,0.8429568409919739,0.8737201690673828,0.8820012211799622,0.8030687570571899,0.7942548394203186,0.8782593011856079,0.890728235244751,0.887215793132782,0.8891662359237671,0.8456211090087891,0.84837806224823,0.8660334944725037,0.8566816449165344,0.8429568409919739,0.8737201690673828,0.8820012211799622,0.8030687570571899,0.7942548394203186,0.8782593011856079,0.890728235244751,0.887215793132782,0.8891662359237671,0.889994740486145,0.8971157073974609,0.8966625928878784,0.894110918045044,0.8934246301651001,0.8878676891326904,0.8909453749656677,0.8936004042625427,0.889994740486145,0.8971157073974609,0.8966625928878784,0.894110918045044,0.8934246301651001,0.8878676891326904,0.8909453749656677,0.8936004042625427],
#     "z":[-3.60176018148195e-05,-0.0001109375225496,-0.0001611770858289,-9.303064143750817e-05,-8.89462826307863e-05,-0.000136040704092,-9.06435088836588e-05,-9.47228036238812e-05,-5.442448309622705e-05,-0.000142768913065,-0.000127622144646,-0.0001152863114839,-0.0001355925196548,-3.60176018148195e-05,-0.0001109375225496,-0.0001611770858289,-9.303064143750817e-05,-8.89462826307863e-05,-0.000136040704092,-9.06435088836588e-05,-9.47228036238812e-05,-5.442448309622705e-05,-0.000142768913065,-0.000127622144646,-0.0001152863114839,-0.0001355925196548,-0.0001244744780706,-0.0001351877581328,-0.0001326959900325,-0.0001228957262355,-0.000124412268633,-0.000125189544633,-0.0001367883523926,-0.0001408639363944,-0.0001244744780706,-0.0001351877581328,-0.0001326959900325,-0.0001228957262355,-0.000124412268633,-0.000125189544633,-0.0001367883523926,-0.0001408639363944],
#     "v":[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]

# }



